<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Employee Management System</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Vue 3 from CDN - No installation needed -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Vuex 4 from CDN - No installation needed -->
    <script src="https://unpkg.com/vuex@4"></script>
  </head>
  <body>
    <div id="app">
      <div class="container">
        <h1 class="app-title">Employee Management System</h1>

        <!-- Search Section -->
        <div class="card search-section">
          <div class="card-header">
            <h2>üîç Search Employees</h2>
          </div>
          <div class="search-form">
            <div class="form-group">
              <input
                type="text"
                class="form-control"
                placeholder="Search by Employee ID"
                v-model="searchFilters.employeeId"
                ref="searchInput"
              />
            </div>
            <div class="form-group">
              <input
                type="text"
                class="form-control"
                placeholder="Search by Name"
                v-model="searchFilters.name"
              />
            </div>
            <div class="form-group">
              <input
                type="text"
                class="form-control"
                placeholder="Search by Phone"
                v-model="searchFilters.phone"
              />
            </div>
            <div class="form-group">
              <select class="form-control" v-model="searchFilters.dept">
                <option value="">All Departments</option>
                <option value="Engineering">Engineering</option>
                <option value="QA">QA</option>
                <option value="HR">HR</option>
                <option value="Support">Support</option>
                <option value="Marketing">Marketing</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Employee Form -->
        <div class="card form-section">
          <div class="card-header">
            <h2>
              {{ isEditing ? '‚úèÔ∏è Edit Employee' : '‚ûï Add New Employee' }}
            </h2>
          </div>
          <form @submit.prevent="submitEmployee">
            <div class="form-row">
              <div class="form-group">
                <label>Name *</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter full name"
                  v-model="employeeForm.name"
                  ref="nameInput"
                  required
                />
              </div>
              <div class="form-group">
                <label>Phone *</label>
                <input
                  type="tel"
                  class="form-control"
                  placeholder="10-digit phone number"
                  v-model="employeeForm.phone"
                  required
                />
              </div>
              <div class="form-group">
                <label>Department *</label>
                <select
                  class="form-control"
                  v-model="employeeForm.dept"
                  required
                >
                  <option value="">Select Department</option>
                  <option value="Engineering">Engineering</option>
                  <option value="QA">QA</option>
                  <option value="HR">HR</option>
                  <option value="Support">Support</option>
                  <option value="Marketing">Marketing</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Address *</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Complete address"
                  v-model="employeeForm.address"
                  required
                />
              </div>
              <div class="form-group">
                <label>Project *</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Current project name"
                  v-model="employeeForm.project"
                  required
                />
              </div>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary">
                {{ isEditing ? 'Update Employee' : 'Add Employee' }}
              </button>
              <button
                type="button"
                class="btn btn-secondary"
                v-if="isEditing"
                @click="cancelEdit"
              >
                Cancel
              </button>
            </div>
          </form>
        </div>

        <!-- Employee Table -->
        <div class="card table-section">
          <div class="card-header">
            <h2>üë• Employee List ({{ filteredEmployees.length }})</h2>
          </div>
          <div class="table-container">
            <table class="employee-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Phone</th>
                  <th>Department</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  v-for="employee in filteredEmployees"
                  :key="employee.id"
                  :class="{ 'row-selected': selectedEmployee?.id === employee.id }"
                >
                  <td><strong>{{ employee.id }}</strong></td>
                  <td>{{ employee.name }}</td>
                  <td>{{ employee.phone }}</td>
                  <td>
                    <span
                      class="dept-badge"
                      :class="'dept-' + employee.dept.toLowerCase()"
                    >
                      {{ employee.dept }}
                    </span>
                  </td>
                  <td>
                    <div class="action-buttons">
                      <button
                        class="btn btn-info btn-sm"
                        @click="viewEmployee(employee)"
                        title="View Details"
                      >
                        üëÅÔ∏è View
                      </button>
                      <button
                        class="btn btn-warning btn-sm"
                        @click="editEmployee(employee)"
                        :disabled="isEditing"
                        title="Edit Employee"
                      >
                        ‚úèÔ∏è Edit
                      </button>
                      <button
                        class="btn btn-danger btn-sm"
                        @click="deleteEmployee(employee)"
                        :disabled="isEditing"
                        title="Delete Employee"
                      >
                        üóëÔ∏è Delete
                      </button>
                    </div>
                  </td>
                </tr>
                <tr v-if="filteredEmployees.length === 0">
                  <td colspan="5" class="no-data">
                    <div class="no-data-content">
                      <span class="no-data-icon">üì≠</span>
                      <p>No employees found matching your search criteria</p>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- View Modal -->
        <div
          class="modal-overlay"
          v-if="showViewModal"
          @click.self="closeViewModal"
        >
          <div class="modal animate-modal">
            <div class="modal-header">
              <h2>üë§ Employee Details</h2>
              <button class="close-btn" @click="closeViewModal">&times;</button>
            </div>
            <div class="modal-body" v-if="selectedEmployee">
              <div class="detail-card">
                <div class="detail-row">
                  <span class="detail-label">üìã Employee ID:</span>
                  <span class="detail-value">{{ selectedEmployee.id }}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">üë§ Name:</span>
                  <span class="detail-value">{{ selectedEmployee.name }}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">üìû Phone:</span>
                  <span class="detail-value">{{ selectedEmployee.phone }}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">üè¢ Department:</span>
                  <span class="detail-value">
                    <span
                      class="dept-badge"
                      :class="'dept-' + selectedEmployee.dept.toLowerCase()"
                    >
                      {{ selectedEmployee.dept }}
                    </span>
                  </span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">üìç Address:</span>
                  <span class="detail-value"
                    >{{ selectedEmployee.address }}</span
                  >
                </div>
                <div class="detail-row">
                  <span class="detail-label">üíº Project:</span>
                  <span class="detail-value"
                    >{{ selectedEmployee.project }}</span
                  >
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" @click="closeViewModal">
                Close
              </button>
              <button class="btn btn-warning" @click="editFromModal">
                Edit Employee
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Vue Application Script -->
    <script src="app.js"></script>
  </body>
</html>
